<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Quill - Param√®tres</title>
    <link rel="stylesheet" type="text/css" media="screen" href="styles.css">
    <style>
      .provider-section {
        border: 1px solid #444;
        border-radius: 8px;
        padding: 15px;
        margin-bottom: 15px;
        background: #2a2a2a;
      }
      .provider-header {
        display: flex;
        align-items: center;
        gap: 10px;
        margin-bottom: 10px;
        font-weight: bold;
        font-size: 1.1em;
      }
      .provider-header input[type="checkbox"] {
        width: 20px;
        height: 20px;
      }
      .provider-content {
        margin-left: 30px;
      }
      .provider-content .row {
        margin-bottom: 8px;
      }
      .status-badge {
        font-size: 0.9em;
        margin-left: 10px;
      }
      .active-provider-section {
        background: #1a3a1a;
        border: 2px solid #4a4;
        padding: 15px;
        border-radius: 8px;
        margin-bottom: 20px;
      }
      .active-provider-section label {
        font-weight: bold;
        color: #8f8;
      }
    </style>
  </head>
  <body>
    <div class="container" id="notes-container">
      <div class="row">
        <div class="col-25">Configuration</div>
        <div class="col-75">
          <ol>
            <li>Activez et configurez un ou plusieurs providers IA ci-dessous</li>
            <li>Obtenez vos cl√©s API :
              <a href="https://console.anthropic.com/" target="_blank">Anthropic</a> |
              <a href="https://platform.openai.com/api-keys" target="_blank">OpenAI</a>
            </li>
            <li>Pour Ollama : installez <a href="https://ollama.ai/" target="_blank">Ollama</a> et un mod√®le</li>
            <li>Choisissez le provider actif par d√©faut</li>
            <li><b>N'oubliez pas de cliquer sur Sauvegarder !</b></li>
          </ol>
        </div>
      </div>
    </div>

    <!-- PROVIDER ACTIF -->
    <div class="container active-provider-section">
      <div class="row">
        <div class="col-25">
          <label for="active-provider">üéØ Provider Actif</label>
        </div>
        <div class="col-75">
          <select id="active-provider" style="font-size: 1.1em; padding: 8px;">
            <option value="anthropic">Anthropic (Claude)</option>
          </select>
          <p style="margin: 5px 0 0 0; font-size: 0.9em; color: #888;">
            Le provider utilis√© par d√©faut pour traiter vos emails. Vous pouvez le changer rapidement depuis le menu Quill.
          </p>
        </div>
      </div>
    </div>

    <!-- CONFIGURATION DES PROVIDERS -->
    <div class="container">
      <h3 style="margin-top: 0;">‚öôÔ∏è Configuration des Providers</h3>

      <!-- ANTHROPIC -->
      <div class="provider-section">
        <div class="provider-header">
          <input type="checkbox" id="anthropic-enabled" checked>
          <label for="anthropic-enabled">üü† Anthropic (Claude)</label>
        </div>
        <div class="provider-content">
          <div class="row">
            <div class="col-25"><label for="anthropic-api-key">Cl√© API</label></div>
            <div class="col-75">
              <input type="password" id="anthropic-api-key" placeholder="sk-ant-api03-..." class="full-width">
            </div>
          </div>
          <div class="row">
            <div class="col-25"><label for="anthropic-model">Mod√®le</label></div>
            <div class="col-75">
              <select id="anthropic-model"></select>
            </div>
          </div>
        </div>
      </div>

      <!-- OPENAI -->
      <div class="provider-section">
        <div class="provider-header">
          <input type="checkbox" id="openai-enabled">
          <label for="openai-enabled">üü¢ OpenAI (GPT)</label>
        </div>
        <div class="provider-content">
          <div class="row">
            <div class="col-25"><label for="openai-api-key">Cl√© API</label></div>
            <div class="col-75">
              <input type="password" id="openai-api-key" placeholder="sk-proj-..." class="full-width">
            </div>
          </div>
          <div class="row">
            <div class="col-25"><label for="openai-model">Mod√®le</label></div>
            <div class="col-75">
              <select id="openai-model"></select>
            </div>
          </div>
        </div>
      </div>

      <!-- OLLAMA -->
      <div class="provider-section">
        <div class="provider-header">
          <input type="checkbox" id="ollama-enabled">
          <label for="ollama-enabled">üîµ Ollama (Local)</label>
          <span id="ollama-status" class="status-badge"></span>
        </div>
        <div class="provider-content">
          <div class="row">
            <div class="col-25"><label for="ollama-url">URL Ollama</label></div>
            <div class="col-75">
              <input type="text" id="ollama-url" placeholder="http://localhost:11434" value="http://localhost:11434" class="full-width">
            </div>
          </div>
          <div class="row">
            <div class="col-25"><label for="ollama-model">Mod√®le</label></div>
            <div class="col-75">
              <select id="ollama-model"></select>
            </div>
          </div>
          <div class="row">
            <div class="col-25"></div>
            <div class="col-75">
              <button id="ollama-test" class="button neutral">üîÑ Tester la connexion</button>
              <span style="margin-left: 10px; font-size: 0.85em; color: #888;">
                <a href="https://github.com/mikecastrodemaria/Quill/wiki/Ollama-CORS" target="_blank">Aide CORS</a>
              </span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- PARAM√àTRES G√âN√âRAUX -->
    <div class="container">
      <h3 style="margin-top: 0;">üìä Param√®tres g√©n√©raux</h3>
      <div class="row">
        <div class="col-25"><label for="max-tokens">Longueur max (tokens)</label></div>
        <div class="col-75">
          <select id="max-tokens">
            <option value="4096">Par d√©faut (4096)</option>
            <option value="8192">Long (8192 tokens)</option>
            <option value="2048">Moyen (2048 tokens)</option>
            <option value="1024">Court (1024 tokens)</option>
            <option value="512">Tr√®s court (512 tokens)</option>
          </select>
        </div>
      </div>
      <div class="row">
        <div class="col-25"><label for="max-size">Entr√©e max (caract√®res)</label></div>
        <div class="col-75">
          <input type="text" id="max-size" placeholder="0 = illimit√©" class="full-width">
        </div>
      </div>
      <div class="row">
        <div class="col-25"></div>
        <div class="col-75">
          <button id="default-settings" class="button bad">R√©initialiser</button>
          <button id="save-settings" class="button good">Sauvegarder</button>
        </div>
      </div>
    </div>

    <!-- ACTIONS -->
    <div class="container">
      <h3 style="margin-top: 0;">üìù Actions personnalis√©es</h3>
      <div class="row">
        <div class="col-25"><label for="actions-container">Actions</label></div>
        <div class="col-75">
          <div class="container" id="actions-container"></div>
        </div>
      </div>
      <div class="row">
        <div class="col-25"></div>
        <div class="col-75">
          <button id="add-action" class="button neutral">Ajouter une action</button>
        </div>
      </div>
    </div>

    <!-- √Ä PROPOS -->
    <div class="container" style="margin-top: 20px;">
      <div class="row">
        <div class="col-25">√Ä propos</div>
        <div class="col-75">
          <p style="margin: 0;">
            <b>Quill v1.3.0</b> - Assistant email IA (Claude + GPT + Ollama)<br>
            D√©velopp√© par <b>Supersonique Studio SARL</b><br>
            Fork de <a href="https://github.com/ali-raheem/Aify" target="_blank">Aify</a> par Ali Raheem<br><br>
            <a href="https://github.com/mikecastrodemaria/Quill" target="_blank">GitHub</a> ¬∑
            <a href="https://github.com/mikecastrodemaria/Quill/wiki" target="_blank">Documentation</a> ¬∑
            <a href="https://github.com/mikecastrodemaria/Quill/issues" target="_blank">Signaler un bug</a> ¬∑
            Licence GPL-3.0
          </p>
        </div>
      </div>
    </div>

    <script type="module" src="settings.js"></script>
  </body>
</html>
