<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Quill - Param√®tres</title>
    <link rel="stylesheet" type="text/css" media="screen" href="styles.css">
    <style>
      /* === THEME MODERNE QUILL === */
      body {
        background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
        color: #e8e8e8;
        min-height: 100vh;
        padding: 10px;
      }

      .container {
        background: rgba(255, 255, 255, 0.05) !important;
        border: 1px solid rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(10px);
        color: #e8e8e8;
        margin-bottom: 15px;
      }

      .container h3 {
        color: #fff;
        margin-bottom: 20px;
      }

      /* Labels et textes */
      label, .col-25 {
        color: #c8c8c8 !important;
      }

      .col-75 p, .col-75 li, .col-75 ol {
        color: #b0b0b0;
      }

      b, strong {
        color: #fff;
      }

      /* Liens */
      a {
        color: #64b5f6;
        transition: color 0.2s;
      }
      a:hover {
        color: #90caf9;
      }

      /* Inputs modernes */
      input[type="text"],
      input[type="password"],
      select,
      textarea {
        background: rgba(0, 0, 0, 0.3) !important;
        border: 1px solid rgba(255, 255, 255, 0.2) !important;
        color: #fff !important;
        transition: all 0.3s ease;
      }

      input[type="text"]:focus,
      input[type="password"]:focus,
      select:focus,
      textarea:focus {
        border-color: #d97706 !important;
        box-shadow: 0 0 0 3px rgba(217, 119, 6, 0.2);
        outline: none;
      }

      input::placeholder {
        color: #888 !important;
      }

      select option {
        background: #1a1a2e;
        color: #fff;
      }

      /* === PROVIDER SECTIONS === */
      .provider-section {
        border-radius: 12px;
        padding: 20px;
        margin-bottom: 15px;
        background: linear-gradient(145deg, rgba(255,255,255,0.08) 0%, rgba(255,255,255,0.02) 100%);
        border: 1px solid rgba(255, 255, 255, 0.1);
        transition: all 0.3s ease;
      }

      .provider-section:hover {
        border-color: rgba(255, 255, 255, 0.25);
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
      }

      /* Anthropic - Orange */
      .provider-section.anthropic {
        border-left: 4px solid #d97706;
      }
      .provider-section.anthropic .provider-header label {
        color: #fbbf24 !important;
      }

      /* OpenAI - Vert */
      .provider-section.openai {
        border-left: 4px solid #10b981;
      }
      .provider-section.openai .provider-header label {
        color: #34d399 !important;
      }

      /* Ollama - Bleu */
      .provider-section.ollama {
        border-left: 4px solid #3b82f6;
      }
      .provider-section.ollama .provider-header label {
        color: #60a5fa !important;
      }

      .provider-header {
        display: flex;
        align-items: center;
        gap: 12px;
        margin-bottom: 15px;
        font-weight: 600;
        font-size: 1.15em;
      }

      .provider-header input[type="checkbox"] {
        width: 22px;
        height: 22px;
        accent-color: #d97706;
        cursor: pointer;
      }

      .provider-content {
        margin-left: 34px;
      }

      .provider-content .row {
        margin-bottom: 12px;
      }

      .provider-content label {
        color: #9ca3af !important;
        font-size: 0.95em;
      }

      .status-badge {
        font-size: 0.9em;
        margin-left: auto;
        padding: 4px 12px;
        border-radius: 20px;
        background: rgba(0,0,0,0.3);
      }

      /* === ACTIVE PROVIDER === */
      .active-provider-section {
        background: linear-gradient(145deg, rgba(16, 185, 129, 0.15) 0%, rgba(16, 185, 129, 0.05) 100%) !important;
        border: 2px solid #10b981 !important;
        padding: 20px;
        border-radius: 12px;
        margin-bottom: 20px;
        box-shadow: 0 4px 20px rgba(16, 185, 129, 0.15);
      }

      .active-provider-section .col-25 label {
        font-weight: 700;
        color: #34d399 !important;
        font-size: 1.1em;
      }

      .active-provider-section select {
        background: rgba(0, 0, 0, 0.4) !important;
        border: 2px solid #10b981 !important;
        font-weight: 600;
      }

      .active-provider-section p {
        color: #6ee7b7 !important;
      }

      /* === BOUTONS MODERNES === */
      .button {
        font-weight: 600;
        padding: 12px 24px;
        border-radius: 8px;
        transition: all 0.3s ease;
        letter-spacing: 0.5px;
        font-size: 0.9em;
      }

      .button:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
      }

      .button.good {
        background: linear-gradient(135deg, #d97706 0%, #b45309 100%);
      }

      .button.bad {
        background: linear-gradient(135deg, #ef4444 0%, #b91c1c 100%);
      }

      .button.neutral {
        background: linear-gradient(135deg, #4b5563 0%, #374151 100%);
      }

      /* === ACTIONS CONTAINER === */
      #actions-container {
        background: rgba(0,0,0,0.2) !important;
        border: 1px dashed rgba(255,255,255,0.2) !important;
        min-height: 50px;
      }

      #actions-container .action-name,
      #actions-container .action-prompt {
        margin-bottom: 8px;
      }
    </style>
  </head>
  <body>
    <div class="container" id="notes-container">
      <div class="row">
        <div class="col-25">Configuration</div>
        <div class="col-75">
          <ol>
            <li>Activez et configurez un ou plusieurs providers IA ci-dessous</li>
            <li>Obtenez vos cl√©s API :
              <a href="https://console.anthropic.com/" target="_blank">Anthropic</a> |
              <a href="https://platform.openai.com/api-keys" target="_blank">OpenAI</a>
            </li>
            <li>Pour Ollama : installez <a href="https://ollama.ai/" target="_blank">Ollama</a> et un mod√®le</li>
            <li>Choisissez le provider actif par d√©faut</li>
            <li><b>N'oubliez pas de cliquer sur Sauvegarder !</b></li>
          </ol>
        </div>
      </div>
    </div>

    <!-- PROVIDER ACTIF -->
    <div class="container active-provider-section">
      <div class="row">
        <div class="col-25">
          <label for="active-provider">üéØ Provider Actif</label>
        </div>
        <div class="col-75">
          <select id="active-provider" style="font-size: 1.1em; padding: 8px;">
            <option value="anthropic">Anthropic (Claude)</option>
          </select>
          <p style="margin: 5px 0 0 0; font-size: 0.9em; color: #888;">
            Le provider utilis√© par d√©faut pour traiter vos emails. Vous pouvez le changer rapidement depuis le menu Quill.
          </p>
        </div>
      </div>
    </div>

    <!-- CONFIGURATION DES PROVIDERS -->
    <div class="container">
      <h3 style="margin-top: 0;">‚öôÔ∏è Configuration des Providers</h3>

      <!-- ANTHROPIC -->
      <div class="provider-section anthropic">
        <div class="provider-header">
          <input type="checkbox" id="anthropic-enabled" checked>
          <label for="anthropic-enabled">üü† Anthropic (Claude)</label>
          <span id="anthropic-status" class="status-badge"></span>
        </div>
        <div class="provider-content">
          <div class="row">
            <div class="col-25"><label for="anthropic-api-key">Cl√© API</label></div>
            <div class="col-75">
              <input type="password" id="anthropic-api-key" placeholder="sk-ant-api03-..." class="full-width">
            </div>
          </div>
          <div class="row">
            <div class="col-25"><label for="anthropic-model">Mod√®le</label></div>
            <div class="col-75">
              <select id="anthropic-model"></select>
            </div>
          </div>
          <div class="row">
            <div class="col-25"></div>
            <div class="col-75">
              <button id="anthropic-test" class="button neutral">üîë Tester la cl√© API</button>
            </div>
          </div>
        </div>
      </div>

      <!-- OPENAI -->
      <div class="provider-section openai">
        <div class="provider-header">
          <input type="checkbox" id="openai-enabled">
          <label for="openai-enabled">üü¢ OpenAI (GPT)</label>
          <span id="openai-status" class="status-badge"></span>
        </div>
        <div class="provider-content">
          <div class="row">
            <div class="col-25"><label for="openai-api-key">Cl√© API</label></div>
            <div class="col-75">
              <input type="password" id="openai-api-key" placeholder="sk-proj-..." class="full-width">
            </div>
          </div>
          <div class="row">
            <div class="col-25"><label for="openai-model">Mod√®le</label></div>
            <div class="col-75">
              <select id="openai-model"></select>
            </div>
          </div>
          <div class="row">
            <div class="col-25"></div>
            <div class="col-75">
              <button id="openai-test" class="button neutral">üîë Tester la cl√© API</button>
            </div>
          </div>
        </div>
      </div>

      <!-- OLLAMA -->
      <div class="provider-section ollama">
        <div class="provider-header">
          <input type="checkbox" id="ollama-enabled">
          <label for="ollama-enabled">üîµ Ollama (Local)</label>
          <span id="ollama-status" class="status-badge"></span>
        </div>
        <div class="provider-content">
          <div class="row">
            <div class="col-25"><label for="ollama-url">URL Ollama</label></div>
            <div class="col-75">
              <input type="text" id="ollama-url" placeholder="http://localhost:11434" value="http://localhost:11434" class="full-width">
            </div>
          </div>
          <div class="row">
            <div class="col-25"><label for="ollama-model">Mod√®le</label></div>
            <div class="col-75">
              <select id="ollama-model"></select>
            </div>
          </div>
          <div class="row">
            <div class="col-25"></div>
            <div class="col-75">
              <button id="ollama-test" class="button neutral">üîÑ Tester la connexion</button>
              <span style="margin-left: 10px; font-size: 0.85em; color: #888;">
                <a href="https://github.com/mikecastrodemaria/Quill/wiki/Ollama-CORS" target="_blank">Aide CORS</a>
              </span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- PARAM√àTRES G√âN√âRAUX -->
    <div class="container">
      <h3 style="margin-top: 0;">üìä Param√®tres g√©n√©raux</h3>
      <div class="row">
        <div class="col-25"><label for="max-tokens">Longueur max (tokens)</label></div>
        <div class="col-75">
          <select id="max-tokens">
            <option value="4096">Par d√©faut (4096)</option>
            <option value="8192">Long (8192 tokens)</option>
            <option value="2048">Moyen (2048 tokens)</option>
            <option value="1024">Court (1024 tokens)</option>
            <option value="512">Tr√®s court (512 tokens)</option>
          </select>
        </div>
      </div>
      <div class="row">
        <div class="col-25"><label for="max-size">Entr√©e max (caract√®res)</label></div>
        <div class="col-75">
          <input type="text" id="max-size" placeholder="0 = illimit√©" class="full-width">
        </div>
      </div>
      <div class="row">
        <div class="col-25"></div>
        <div class="col-75">
          <button id="default-settings" class="button bad">R√©initialiser</button>
          <button id="save-settings" class="button good">Sauvegarder</button>
        </div>
      </div>
    </div>

    <!-- ACTIONS -->
    <div class="container">
      <h3 style="margin-top: 0;">üìù Actions personnalis√©es</h3>
      <div class="row">
        <div class="col-25"><label for="actions-container">Actions</label></div>
        <div class="col-75">
          <div class="container" id="actions-container"></div>
        </div>
      </div>
      <div class="row">
        <div class="col-25"></div>
        <div class="col-75">
          <button id="add-action" class="button neutral">Ajouter une action</button>
        </div>
      </div>
    </div>

    <!-- √Ä PROPOS -->
    <div class="container" style="margin-top: 20px;">
      <div class="row">
        <div class="col-25">√Ä propos</div>
        <div class="col-75">
          <p style="margin: 0;">
            <b>Quill v1.3.1</b> - Assistant email IA (Claude + GPT + Ollama)<br>
            D√©velopp√© par <b>Supersonique Studio SARL</b><br>
            Fork de <a href="https://github.com/ali-raheem/Aify" target="_blank">Aify</a> par Ali Raheem<br><br>
            <a href="https://github.com/mikecastrodemaria/Quill" target="_blank">GitHub</a> ¬∑
            <a href="https://github.com/mikecastrodemaria/Quill/wiki" target="_blank">Documentation</a> ¬∑
            <a href="https://github.com/mikecastrodemaria/Quill/issues" target="_blank">Signaler un bug</a> ¬∑
            Licence GPL-3.0
          </p>
        </div>
      </div>
    </div>

    <script type="module" src="settings.js"></script>
  </body>
</html>
